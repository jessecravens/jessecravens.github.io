<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Semantic HTML | Jesse Cravens]]></title>
  <link href="http://www.jessecravens.com/blog/categories/semantic-html/atom.xml" rel="self"/>
  <link href="http://www.jessecravens.com/"/>
  <updated>2015-02-17T21:49:18-06:00</updated>
  <id>http://www.jessecravens.com/</id>
  <author>
    <name><![CDATA[Jesse Cravens]]></name>
    <email><![CDATA[jesse.cravens@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[YUI3 Rails Application Template]]></title>
    <link href="http://www.jessecravens.com/blog/2011/01/30/yui3-rails-application-template/"/>
    <updated>2011-01-30T01:02:15-06:00</updated>
    <id>http://www.jessecravens.com/blog/2011/01/30/yui3-rails-application-template</id>
    <content type="html"><![CDATA[<p>I decided to put together a Rails template to generate a quick sqlite3 db driven web app to test out <a href="http://developer.yahoo.com/yui/3/">YUI3</a> functionality quickly. Rails 3 makes it super simple to quickly generate real JSON data for testing out various YUI 3 components such as DataSource.</p>

<p>The template takes care of removing the Prototype library, including yui-debug.js and the CSS framework including reset, and the new <a href="http://developer.yahoo.com/yui/3/cssgrids/">Grids</a> &ndash; currently in beta. I also wanted to deliver my basic markup quickly so I&rsquo;ve added <a href="http://haml-lang.com/docs/yardoc/file.HAML_REFERENCE.html#html_elements">Haml</a></p>

<p>Since I have been disciplining myself to follow Test Driven Development on the server, I included all of my Rails testing dependencies in the app template as well (RSpec, Cucumber, WebRat, Factory Girl) and I plan to continue to leverage <a href="http://developer.yahoo.com/yui/3/test/">YUI Test</a> on the client as I run through browser validations of the <a href="http://developer.yahoo.com/yui/3/examples/datasource/datasource_polling.html">datasource-polling sub-module</a>. Clone the rails app template <a href="https://github.com/jessecravens/yui3-rails-template">here</a>.</p>

<p>{% codeblock yui-rails.rb %}</p>

<h1>YUI3 Application Generator Template</h1>

<h1>Generates a Rails app; includes YUI3, Haml, RSpec, Cucumber, WebRat, Factory Girl &hellip;</h1>

<p>puts &ldquo;Generating a new YUI3 Rails app&rdquo;</p>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<h1>Create the database</h1>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<p>puts &ldquo;creating the database&hellip;&rdquo;
run &lsquo;rake db:create:all&rsquo;</p>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<h1>GIT</h1>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<p>puts &ldquo;setting up &lsquo;git&rsquo;&rdquo;</p>

<p>append_file &lsquo;.gitignore&rsquo; do &lt;&lt;-FILE
&lsquo;.DS_Store&rsquo;
&lsquo;.rvmrc&rsquo;
FILE
end
git :init
git :add => &lsquo;.&rsquo;
git :commit => &ldquo;-m &lsquo;Initial Commit of YUI3 Rails App&rsquo;&rdquo;</p>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<h1>Remove files</h1>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<p>puts &ldquo;removing files&hellip;&rdquo;
run &lsquo;rm public/index.html&rsquo;
run &lsquo;rm public/favicon.ico&rsquo;
run &lsquo;rm public/images/rails.png&rsquo;
run &lsquo;rm README&rsquo;
run &lsquo;touch README&rsquo;</p>

<p>puts &ldquo;banning spiders from your site by changing robots.txt&hellip;&rdquo;
gsub_file &lsquo;public/robots.txt&rsquo;, /# User-Agent/, &lsquo;User-Agent&rsquo;
gsub_file &lsquo;public/robots.txt&rsquo;, /# Disallow/, &lsquo;Disallow&rsquo;</p>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<h1>Haml</h1>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<p>  puts &ldquo;setting up Gemfile for Haml&hellip;&rdquo;
  append_file &lsquo;Gemfile&rsquo;, &ldquo;\n# Bundle gems needed for Haml\n&rdquo;
  gem &lsquo;haml&rsquo;, &lsquo;3.0.18&rsquo;
  gem &lsquo;haml-rails&rsquo;, &lsquo;0.2&rsquo;, :group => :development</p>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<h1>Set up YUI3</h1>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<p>puts &ldquo;replacing Prototype with YUI3&rdquo;
run &lsquo;rm public/javascripts/controls.js&rsquo;
run &lsquo;rm public/javascripts/dragdrop.js&rsquo;
run &lsquo;rm public/javascripts/effects.js&rsquo;
run &lsquo;rm public/javascripts/prototype.js&rsquo;
run &lsquo;rm public/javascripts/rails.js&rsquo;</p>

<p>get &ldquo;<a href="http://yui.yahooapis.com/combo?3.3.0/build/yui/yui-debug.js">http://yui.yahooapis.com/combo?3.3.0/build/yui/yui-debug.js</a>&rdquo;,  &ldquo;public/javascripts/yui-debug.js&rdquo;
get &ldquo;<a href="http://yui.yahooapis.com/3.3.0/build/cssreset/reset.css">http://yui.yahooapis.com/3.3.0/build/cssreset/reset.css</a>&rdquo;,  &ldquo;public/stylesheets/reset.css&rdquo;
get &ldquo;<a href="http://yui.yahooapis.com/3.3.0/build/cssbase/base.css">http://yui.yahooapis.com/3.3.0/build/cssbase/base.css</a>&rdquo;,  &ldquo;public/stylesheets/base.css&rdquo;
get &ldquo;<a href="http://yui.yahooapis.com/3.3.0/build/cssfonts/fonts.css">http://yui.yahooapis.com/3.3.0/build/cssfonts/fonts.css</a>&rdquo;,  &ldquo;public/stylesheets/fonts.css&rdquo;
get &ldquo;<a href="http://yui.yahooapis.com/3.3.0/build/cssgrids/grids.css">http://yui.yahooapis.com/3.3.0/build/cssgrids/grids.css</a>&rdquo;,  &ldquo;public/stylesheets/grids.css&rdquo;</p>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<h1>Create an index page</h1>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<p>puts &ldquo;create a home controller and view&rdquo;
generate(:controller, &ldquo;home index&rdquo;)
gsub_file &lsquo;config/routes.rb&rsquo;, /get \&ldquo;home\/index\&rdquo;/, &lsquo;root :to => &ldquo;home#index&rdquo;&rsquo;
append_file &lsquo;app/views/home/index.html.haml'do &lt;&lt;-FILE
!!!
%h2{:class => &ldquo;subtitle&rdquo;} Get Started
%p{:class => &ldquo;content&rdquo;} Update application.js with your logic
%div{:class => &ldquo;container&rdquo;, :id => &ldquo;container&rdquo;}
%div{:id => &ldquo;testLogger&rdquo;}
FILE
end</p>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<h1>Generate Application Layout</h1>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<p>run &lsquo;rm app/views/layouts/application.html.erb&rsquo;
  create_file &lsquo;app/views/layouts/application.html.haml&rsquo; do &lt;&lt;-FILE
!!!
%html
  %head</p>

<pre><code>%title YUI3 App
= stylesheet_link_tag "reset"
= stylesheet_link_tag "base"
= stylesheet_link_tag "fonts"
= stylesheet_link_tag "grids"
= stylesheet_link_tag "application"
= javascript_include_tag :all
= csrf_meta_tag
</code></pre>

<p>  %body{:class =>&ldquo;yui3-skin-sam  yui-skin-sam&rdquo;}</p>

<pre><code>= yield
</code></pre>

<p>FILE
end</p>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<h1>Add Stylesheets</h1>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<p>create_file &lsquo;public/stylesheets/application.css&rsquo; do &lt;&lt;-FILE
div.container {
  width: 100%;
  height: 100px;
  padding: 10px;
  margin: 10px;
  border: 1px solid red;
}</p>

<h1>testLogger {</h1>

<pre><code>margin-bottom: 1em;
</code></pre>

<p>}</p>

<h1>testLogger .yui3-console .yui3-console-title {</h1>

<pre><code>border: 0 none;
color: #000;
font-size: 13px;
font-weight: bold;
margin: 0;
text-transform: none;
</code></pre>

<p>}</p>

<h1>testLogger .yui3-console .yui3-console-entry-meta {</h1>

<pre><code>margin: 0;
</code></pre>

<p>}</p>

<p>.yui3-skin-sam .yui3-console-entry-pass .yui3-console-entry-cat {</p>

<pre><code>background: #070;
color: #fff;
</code></pre>

<p>}</p>

<p>FILE
end</p>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<h1>Initialize YUI and add YUI Test</h1>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<p>append_file &lsquo;public/javascripts/application.js&rsquo; do &lt;&lt;-FILE</p>

<p>  YUI({ filter: &lsquo;raw&rsquo; }).use(&ldquo;node&rdquo;, &ldquo;console&rdquo;, &ldquo;test&rdquo;,function (Y) {</p>

<pre><code>  Y.namespace("example.test");

  Y.example.test.DataTestCase = new Y.Test.Case({

      //name of the test case - if not provided, one is auto-generated
      name : "Data Tests",

      //---------------------------------------------------------------------
      // setUp and tearDown methods - optional
      //---------------------------------------------------------------------

      /*
       * Sets up data that is needed by each test.
       */
      setUp : function () {
          this.data = {
              name: "test",
              year: 2007,
              beta: true
          };
      },

      /*
       * Cleans up everything that was created by setUp().
       */
      tearDown : function () {
          delete this.data;
      },

      //---------------------------------------------------------------------
      // Test methods - names must begin with "test"
      //---------------------------------------------------------------------

      testName : function () {
          var Assert = Y.Assert;

          Assert.isObject(this.data);
          Assert.isString(this.data.name);
          Assert.areEqual("test", this.data.name);            
      },

      testYear : function () {
          var Assert = Y.Assert;

          Assert.isObject(this.data);
          Assert.isNumber(this.data.year);
          Assert.areEqual(2007, this.data.year);            
      },

      testBeta : function () {
          var Assert = Y.Assert;

          Assert.isObject(this.data);
          Assert.isBoolean(this.data.beta);
          Assert.isTrue(this.data.beta);
      }

  });

  Y.example.test.ArrayTestCase = new Y.Test.Case({

      //name of the test case - if not provided, one is auto-generated
      name : "Array Tests",

      //---------------------------------------------------------------------
      // setUp and tearDown methods - optional
      //---------------------------------------------------------------------

      /*
       * Sets up data that is needed by each test.
       */
      setUp : function () {
          this.data = [0,1,2,3,4]
      },

      /*
       * Cleans up everything that was created by setUp().
       */
      tearDown : function () {
          delete this.data;
      },

      //---------------------------------------------------------------------
      // Test methods - names must begin with "test"
      //---------------------------------------------------------------------

      testPop : function () {
          var Assert = Y.Assert;

          var value = this.data.pop();

          Assert.areEqual(4, this.data.length);
          Assert.areEqual(4, value);            
      },        

      testPush : function () {
          var Assert = Y.Assert;

          this.data.push(5);

          Assert.areEqual(6, this.data.length);
          Assert.areEqual(5, this.data[5]);            
      },

      testSplice : function () {
          var Assert = Y.Assert;

          this.data.splice(2, 1, 6, 7);

          Assert.areEqual(6, this.data.length);
          Assert.areEqual(6, this.data[2]);           
          Assert.areEqual(7, this.data[3]);           
      }

  });    

  Y.example.test.ExampleSuite = new Y.Test.Suite("Example Suite");
  Y.example.test.ExampleSuite.add(Y.example.test.DataTestCase);
  Y.example.test.ExampleSuite.add(Y.example.test.ArrayTestCase);

  //create the console
  var r = new Y.Console({
      newestOnTop : false,
      style: 'block' // to anchor in the example content
  });

  r.render('#testLogger');

  Y.Test.Runner.add(Y.example.test.ExampleSuite);

  //run the tests
  Y.Test.Runner.run();
</code></pre>

<p>  });</p>

<p>FILE
end</p>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<h1>Setup RSpec &amp; Cucumber</h1>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<p>puts &lsquo;Setting up RSpec, Cucumber, webrat, factory_girl, faker&rsquo;
append_file &lsquo;Gemfile&rsquo; do &lt;&lt;-FILE
group :development, :test do
  gem &ldquo;rspec-rails&rdquo;, &ldquo;>= 2.0.1&rdquo;
  gem &ldquo;cucumber-rails&rdquo;, &ldquo;>= 0.3.2&rdquo;
  gem &ldquo;webrat&rdquo;, &ldquo;>= 0.7.2.beta.2&rdquo;
  gem &ldquo;factory_girl_rails&rdquo;
  gem &ldquo;faker&rdquo;
end
FILE
end</p>

<p>run &lsquo;bundle install&rsquo;
run &lsquo;script/rails generate rspec:install&rsquo;
run &lsquo;script/rails generate cucumber:install&rsquo;
run &lsquo;rake db:migrate&rsquo;
run &lsquo;rake db:test:prepare&rsquo;</p>

<p>run &lsquo;touch spec/factories.rb&rsquo;</p>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<h1>Finish up</h1>

<h1>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</h1>

<p>puts &ldquo;Commiting to Git repository&hellip;&rdquo;
git :add => &lsquo;.&rsquo;
git :commit => &ldquo;-am &lsquo;Setup Complete&rsquo;&rdquo;</p>

<p>puts &ldquo;DONE &ndash; setting up your YUI3 Rails App.&rdquo;</p>

<p>{% endcodeblock %}</p>
]]></content>
  </entry>
  
</feed>
